[10:01:58] * Now talking on #docker
[10:01:58] * Topic for #docker is: Docker: Open platform for distributed applications | http://docker.com | http://github.com/moby/moby | http://status.docker.com/ | https://forums.docker.com/ | Registration with NickServ required: https://libera.chat/guides/registration
[10:01:58] * Topic for #docker set by programmerq!~programme@saffron.programmerq.net (Thu May 20 16:51:35 2021)
[10:04:16] <zitter> good morning, I have a working local docker-compose.yml. When I do a PUSH on my Git server I have to PULL it from 2 different host ("dev-host" and "prod-host"). What's best way to have different docker-compose.yml configured to each host? Can I ignore it and then customize each on on different host? TIA
[10:07:04] <[twisti]> zitter: with a docker-compose.override.yml
[10:07:29] <[twisti]> have the base config in the shared docker-compose.yml, and prod/dev overrides in those override files
[10:09:38] * jkwnki (~jkwnki@p4fedbff8.dip0.t-ipconnect.de) has joined
[10:16:21] <tabakhase> zitter override for "local" things as mentioned above - also if you just need variables (like passwords/ips and such) using a ".env" file (docker-compose consumes that) --  if its more for "components", say with a DB in dev, but without (cause cloudhosted) sql in prod - you could use COMPOSE_FILES envVar or "-f 1.yml -f 2.yml" to assemble multiple compose files to one thing by deepmerging
[10:17:11] <tabakhase> sidenote to the "docker-compose config" command for simpler debugging of such things^^
[10:18:21] <tabakhase> (override as well as .env would be on gitignore - while the COMPOSE_FILES variant is more the idea to still commit all files, but pick&choose as you run it
[10:21:49] <zitter> tabakhase, thanks I will look at that.
[10:22:24] <tabakhase> (oh, and you can also set/save COMPOSE_FILES inside the .env file whats pretty neat
[10:24:28] <tabakhase> so your README may be "create a .env file, add "COMPOSE_FILE=docker-compose.yml:docker-compose.devdb.yml" and "MYSQL_PASSWORD=<insert random here>" - then run "docker-compose up" and have funs..."
[10:25:51] * denningsrogue7 (~denningsr@206.214.225.174) has joined
[10:28:00] * denningsrogue has quit (Ping timeout: 264 seconds)
[10:28:00] * denningsrogue7 is now known as denningsrogue
[10:33:19] <tabakhase> zitter along those lines (not actually valid, just to illustrate) https://paste.debian.net/1216373/
[10:44:59] * BenjiProd (~BenjiProd@user/benjiprod) has joined